import{r as u,c as _,f as h,g as b,v,H as f,h as e,k as c,t as l}from"./index-IaK2R5-W.js";const p={class:"delete-modal"},y=e("div",{class:"modal-backdrop fade show"},null,-1),g={class:"modal show fade d-block",tabindex:"-1","aria-modal":"true",role:"dialog"},k={class:"modal-dialog"},w={class:"modal-content"},D=e("h5",{class:"modal-title"},"確認刪除",-1),x={class:"modal-body"},B=e("div",{class:"warning-icon"},[e("i",{class:"bi bi-exclamation-triangle-fill"})],-1),C={class:"modal-footer"},N=["disabled"],M={__name:"DelModal",props:{show:Boolean,item:{type:Object,required:!0},entityName:{type:String,default:"項目"},onDelete:{type:Function,required:!0}},emits:["close","deleted","error"],setup(o,{emit:d}){const t=o,a=d,s=u(!1),r=_(()=>t.item.title?t.item.title:t.item.user&&t.item.user.name?t.item.user.name:"此"),i=()=>{a("close")},m=async()=>{s.value=!0;try{await t.onDelete(t.item.id),a("deleted")}catch(n){a("error",n.message||"刪除失敗")}finally{s.value=!1}};return(n,S)=>(h(),b("div",p,[y,v(e("div",g,[e("div",k,[e("div",w,[e("div",{class:"modal-header"},[D,e("button",{type:"button",class:"btn-close",onClick:i,"aria-label":"Close"})]),e("div",x,[B,e("p",null,[c(" 您確定要刪除"),e("strong",null,l(r.value),1),c("的"+l(o.entityName)+"嗎？此操作無法恢復。 ",1)])]),e("div",C,[e("button",{type:"button",class:"btn-secondary",onClick:i},"取消"),e("button",{type:"button",class:"btn-danger",onClick:m,disabled:s.value},l(s.value?"刪除中...":"確認刪除"),9,N)])])])],512),[[f,o.show]])]))}};export{M as _};
