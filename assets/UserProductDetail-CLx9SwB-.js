import{a as J,b as K,u as X,r as p,c as o,w as Y,o as Z,e as ss,f as r,g as d,h as s,i as U,j as P,t as v,F as x,s as M,I as T,l as A,k as f,v as w,x as as,n as m,H as I,m as y,L as $}from"./index-IaK2R5-W.js";const is={class:"product-detail-page"},ts={class:"page-header"},es={class:"container"},ls=s("h1",null,"客房詳情",-1),cs={class:"breadcrumb"},ns=s("span",{class:"separator"},"/",-1),os=s("span",{class:"separator"},"/",-1),rs={class:"current"},ds={key:0,class:"loading-container"},vs=s("div",{class:"loading-spinner"},null,-1),us=s("p",null,"載入中，請稍候...",-1),ps=[vs,us],_s={key:1,class:"product-content"},hs={class:"container"},fs={class:"product-main"},ms={class:"product-gallery"},gs={class:"main-image"},bs=["src","alt"],ws={class:"thumbnail-gallery"},ys=["onClick"],ks=["src","alt"],Cs={class:"product-info"},Ts={class:"product-header"},Is=y('<div class="product-rating"><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star-half-alt"></i><span>(4.5/5)</span></div>',1),$s={class:"product-description"},Fs=y('<div class="product-features"><div class="feature"><i class="fas fa-user-friends"></i><span>最多2人</span></div><div class="feature"><i class="fas fa-expand-arrows-alt"></i><span>45平方米</span></div><div class="feature"><i class="fas fa-bed"></i><span>特大床</span></div><div class="feature"><i class="fas fa-mountain"></i><span>城市景觀</span></div></div><div class="product-amenities"><h3>客房設施</h3><ul><li><i class="fas fa-wifi"></i> 高速WiFi</li><li><i class="fas fa-tv"></i> 55吋智能電視</li><li><i class="fas fa-coffee"></i> Nespresso咖啡機</li><li><i class="fas fa-bath"></i> 豪華浴缸</li><li><i class="fas fa-snowflake"></i> 獨立空調</li><li><i class="fas fa-concierge-bell"></i> 24小時客房服務</li></ul></div>',2),Ds={class:"product-price"},Ns={class:"price-info"},Us={key:0,class:"original-price"},Ps={class:"current-price"},xs=s("span",{class:"per-night"},"/ 晚",-1),Ms=s("div",{class:"price-note"},"* 價格已包含稅金和服務費",-1),As={class:"product-booking"},Ls={class:"quantity-selector"},Vs=s("label",null,"數量",-1),Bs={class:"quantity-controls"},js=["disabled"],Es=s("i",{class:"fas fa-minus"},null,-1),Ss=[Es],Os=["disabled"],qs=s("i",{class:"fas fa-plus"},null,-1),Hs=[qs],Gs={class:"booking-actions"},Qs=s("i",{class:"fas fa-shopping-cart"},null,-1),Rs={class:"product-details"},Ws={class:"details-tabs"},zs={class:"tab-content"},Js={class:"tab-pane"},Ks=["innerHTML"],Xs={class:"tab-pane"},Ys=y('<h3>預訂政策</h3><div class="policy-section"><h4>入住與退房</h4><ul><li>入住時間：下午 3:00 後</li><li>退房時間：上午 12:00 前</li><li>提前入住或延遲退房需視客房供應情況而定，可能需額外費用</li></ul></div><div class="policy-section"><h4>取消政策</h4><ul><li>入住日期前 7 天取消：全額退款</li><li>入住日期前 3-7 天取消：收取一晚房費</li><li>入住日期前 3 天內取消：不予退款</li></ul></div><div class="policy-section"><h4>付款方式</h4><ul><li>接受主要信用卡（Visa、MasterCard、JCB、American Express）</li><li>入住時需提供信用卡授權或現金押金</li><li>押金金額為每晚房費的 50%，退房時如無額外消費將全額退還</li></ul></div>',4),Zs=[Ys],sa={class:"tab-pane"},aa=y('<div class="reviews-summary"><div class="rating-summary"><div class="average-rating">4.5</div><div class="rating-stars"><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star-half-alt"></i></div><div class="rating-count">基於 24 則評價</div></div><div class="rating-breakdown"><div class="rating-item"><span class="rating-label">舒適度</span><div class="rating-bar"><div class="rating-fill" style="width:90%;"></div></div><span class="rating-value">4.5</span></div><div class="rating-item"><span class="rating-label">清潔度</span><div class="rating-bar"><div class="rating-fill" style="width:96%;"></div></div><span class="rating-value">4.8</span></div><div class="rating-item"><span class="rating-label">位置</span><div class="rating-bar"><div class="rating-fill" style="width:88%;"></div></div><span class="rating-value">4.4</span></div><div class="rating-item"><span class="rating-label">服務</span><div class="rating-bar"><div class="rating-fill" style="width:94%;"></div></div><span class="rating-value">4.7</span></div><div class="rating-item"><span class="rating-label">性價比</span><div class="rating-bar"><div class="rating-fill" style="width:86%;"></div></div><span class="rating-value">4.3</span></div></div></div><div class="reviews-list"><div class="review-item"><div class="review-header"><div class="reviewer-info"><div class="reviewer-avatar"><img src="https://randomuser.me/api/portraits/women/44.jpg" alt="顧客頭像"></div><div class="reviewer-details"><h4>林小姐</h4><div class="review-date">2023年10月15日</div></div></div><div class="review-rating"><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><span>5.0</span></div></div><div class="review-content"><p> 房間非常舒適，設施齊全，服務人員親切專業。窗外的城市景觀令人驚艷，尤其是夜景更是美不勝收。早餐種類豐富，品質極佳。絕對會再次入住！ </p></div></div><div class="review-item"><div class="review-header"><div class="reviewer-info"><div class="reviewer-avatar"><img src="https://randomuser.me/api/portraits/men/32.jpg" alt="顧客頭像"></div><div class="reviewer-details"><h4>王先生</h4><div class="review-date">2023年9月28日</div></div></div><div class="review-rating"><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="far fa-star"></i><span>4.0</span></div></div><div class="review-content"><p> 整體來說是很好的住宿體驗，房間寬敞明亮，床鋪舒適。唯一的小缺點是浴室的水壓有點不穩定。飯店位置很好，周邊有許多餐廳和購物選擇。 </p></div></div></div>',2),ia=[aa],ta={class:"recommended-products"},ea=s("h2",null,"您可能也會喜歡",-1),la={class:"recommended-grid"},ca=["onClick"],na={class:"recommended-image"},oa=["src","alt"],ra={class:"recommended-info"},da={class:"recommended-price"},va=s("span",null,"/ 晚",-1),ua=s("button",{class:"btn-view"},"查看詳情",-1),pa=`
<div class="default-description">
  <p>這間豪華客房提供舒適的住宿環境，為您的旅程增添難忘的體驗。</p>
  
  <h4>客房特色</h4>
  <ul>
    <li>寬敞的起居空間，配備舒適的座椅和工作區</li>
    <li>特大床，配有高級床上用品</li>
    <li>大型窗戶，提供充足的自然光和城市美景</li>
    <li>精心設計的浴室，配備雨淋式淋浴和豪華浴缸</li>
    <li>高品質的洗浴用品</li>
  </ul>
  
  <h4>客房設施</h4>
  <ul>
    <li>高速WiFi</li>
    <li>55吋智能電視</li>
    <li>Nespresso咖啡機和精選茶品</li>
    <li>迷你吧</li>
    <li>保險箱</li>
    <li>獨立控制的空調系統</li>
  </ul>
  
  <h4>客房服務</h4>
  <ul>
    <li>24小時客房服務</li>
    <li>每日客房清潔</li>
    <li>洗衣和乾洗服務</li>
    <li>枕頭選單</li>
    <li>喚醒服務</li>
  </ul>
</div>
`,ma={__name:"UserProductDetail",setup(_a){const F=J(),L=K(),n=X(),i=p(null),k=p(!0),l=p(1),_=p(!1),g=p(null),c=p("description"),b=o(()=>{var a;return((a=i.value)==null?void 0:a.title)||""}),V=o(()=>{var a;return((a=i.value)==null?void 0:a.description)||""}),B=o(()=>{var a;return((a=i.value)==null?void 0:a.content)||""}),D=o(()=>{var a;return((a=i.value)==null?void 0:a.price)||0}),N=o(()=>{var a;return((a=i.value)==null?void 0:a.origin_price)||0}),h=o(()=>{var a;return((a=i.value)==null?void 0:a.id)||""}),j=["https://images.unsplash.com/photo-1590490360182-c33d57733427","https://images.unsplash.com/photo-1582719478250-c89cae4dc85b","https://images.unsplash.com/photo-1584132905271-512c958d674a"],E=o(()=>{if(!i.value)return[];const a=i.value.imageUrl,e=Array.isArray(i.value.imagesUrl)?i.value.imagesUrl.filter(Boolean):[];return e.length===0?[a,...j]:[a,...e]}),S=o(()=>{const a=Object.values(n.userProducts||{});return a.length===0?[]:a.filter(u=>u.id!==h.value).sort(()=>.5-Math.random()).slice(0,4)}),O=async()=>{k.value=!0;try{const e=`https://vue3-course-api.hexschool.io/api/ricopaul-api/product/${F.params.id}`,u=await n.getUserProductById(e);i.value=u.data.product,g.value=i.value.imageUrl,R()}catch(a){console.error("Error fetching product details:",a)}finally{k.value=!1}},q=a=>{g.value=a},H=()=>{l.value<10&&(l.value+=1)},G=()=>{l.value>1&&(l.value-=1)},Q=async()=>{try{await n.addToCart(h.value,l.value),alert("成功加入購物車")}catch{alert("加入購物車失敗")}},R=()=>{h.value&&(_.value=n.isInFavorites(h.value))},W=()=>{i.value&&(_.value?n.removeFromFavorites(h.value):n.addToFavorites(i.value),_.value=!_.value)},z=a=>{L.push({name:"UserProductDetail",params:{id:a}})};return Y(()=>F.params.id,async a=>{a&&await O()},{immediate:!0}),Z(async()=>{Object.keys(n.userProducts||{}).length===0&&await n.getUserProducts()}),(a,e)=>{const u=ss("router-link");return r(),d("div",is,[s("section",ts,[s("div",es,[ls,s("div",cs,[U(u,{to:"/"},{default:P(()=>[f("首頁")]),_:1}),ns,U(u,{to:"/user/products"},{default:P(()=>[f("客房")]),_:1}),os,s("span",rs,v(b.value||"客房詳情"),1)])])]),k.value?(r(),d("div",ds,ps)):i.value?(r(),d("section",_s,[s("div",hs,[s("div",fs,[s("div",ms,[s("div",gs,[s("img",{src:g.value,alt:b.value},null,8,bs)]),s("div",ws,[(r(!0),d(x,null,M(E.value,(t,C)=>(r(),d("div",{key:C,class:m(["thumbnail",{active:t===g.value}]),onClick:ha=>q(t)},[s("img",{src:t,alt:`${b.value} - 圖片 ${C+1}`},null,8,ks)],10,ys))),128))])]),s("div",Cs,[s("div",Ts,[s("h2",null,v(b.value),1),Is]),s("div",$s,[s("p",null,v(V.value),1)]),Fs,s("div",Ds,[s("div",Ns,[N.value>D.value?(r(),d("div",Us," 原價 NT$ "+v(T($)(N.value)),1)):A("",!0),s("div",Ps,[f(" NT$ "+v(T($)(D.value))+" ",1),xs])]),Ms]),s("div",As,[s("div",Ls,[Vs,s("div",Bs,[s("button",{onClick:G,disabled:l.value<=1},Ss,8,js),w(s("input",{type:"number","onUpdate:modelValue":e[0]||(e[0]=t=>l.value=t),min:"1",max:"10"},null,512),[[as,l.value,void 0,{number:!0}]]),s("button",{onClick:H,disabled:l.value>=10},Hs,8,Os)])]),s("div",Gs,[s("button",{class:"btn-add-cart",onClick:Q},[Qs,f(" 加入購物車 ")]),s("button",{class:"btn-favorite",onClick:W},[s("i",{class:m(_.value?"fas fa-heart":"far fa-heart")},null,2)])])])])]),s("div",Rs,[s("div",Ws,[s("button",{class:m(["tab-btn",{active:c.value==="description"}]),onClick:e[1]||(e[1]=t=>c.value="description")}," 詳細說明 ",2),s("button",{class:m(["tab-btn",{active:c.value==="policy"}]),onClick:e[2]||(e[2]=t=>c.value="policy")}," 預訂政策 ",2),s("button",{class:m(["tab-btn",{active:c.value==="reviews"}]),onClick:e[3]||(e[3]=t=>c.value="reviews")}," 客戶評價 ",2)]),s("div",zs,[w(s("div",Js,[s("div",{class:"product-description-content",innerHTML:B.value||pa},null,8,Ks)],512),[[I,c.value==="description"]]),w(s("div",Xs,Zs,512),[[I,c.value==="policy"]]),w(s("div",sa,ia,512),[[I,c.value==="reviews"]])])]),s("div",ta,[ea,s("div",la,[(r(!0),d(x,null,M(S.value,t=>(r(),d("div",{key:t.id,class:"recommended-item",onClick:C=>z(t.id)},[s("div",na,[s("img",{src:t.imageUrl,alt:t.title},null,8,oa)]),s("div",ra,[s("h3",null,v(t.title),1),s("div",da,[f(" NT$ "+v(T($)(t.price))+" ",1),va]),ua])],8,ca))),128))])])])])):A("",!0)])}}};export{ma as default};
